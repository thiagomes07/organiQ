# .env.local (DESENVOLVIMENTO)
# COPIE ESTE ARQUIVO PARA .env.local E PREENCHA COM SEUS VALORES

# ============================================
# ENVIRONMENT
# ============================================
ENV=development

# ============================================
# SERVER
# ============================================
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
SERVER_READ_TIMEOUT=30s
SERVER_WRITE_TIMEOUT=30s
SERVER_IDLE_TIMEOUT=120s
SERVER_SHUTDOWN_TIMEOUT=30s

# ============================================
# DATABASE (PostgreSQL)
# ============================================
DB_HOST=localhost
DB_PORT=5432
DB_USER=organiq
DB_PASSWORD=dev_password
DB_NAME=organiq_dev
DB_SSL_MODE=disable
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME=5m

# ============================================
# STORAGE (MinIO para dev, S3 para prod)
# ============================================
STORAGE_TYPE=minio
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=organiq-dev-brand-files
MINIO_USE_SSL=false

# S3 (usar em produção)
# S3_BUCKET=organiq-prod-brand-files
# S3_REGION=us-east-1

# ============================================
# QUEUE (LocalStack para dev, AWS SQS para prod)
# ============================================
QUEUE_ENDPOINT=http://localhost:4566
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=test
AWS_SECRET_ACCESS_KEY=test
ARTICLE_GENERATION_QUEUE=article-generation-queue
ARTICLE_PUBLISH_QUEUE=article-publish-queue

# ============================================
# AUTHENTICATION & SECURITY
# ============================================
# Gere com: openssl rand -base64 32
JWT_SECRET=dev_jwt_secret_key_change_in_production_must_be_32_chars_minimum
PASSWORD_PEPPER=a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6a1b2c3d4

# Token expiry times
ACCESS_TOKEN_DURATION=15m
REFRESH_TOKEN_DURATION=168h

# ============================================
# CORS
# ============================================
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:3001
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=3600

# ============================================
# AI SERVICE
# ============================================
AI_PROVIDER=openai
AI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxx
AI_MODEL=gpt-4-turbo-preview
AI_MAX_TOKENS=4000
AI_TEMPERATURE=0.7

# ============================================
# LOGGER
# ============================================
LOG_LEVEL=debug
LOG_FORMAT=console
LOG_OUTPUT=stdout

# ============================================
# WORKER POOL
# ============================================
WORKER_POOL_SIZE=5
WORKER_QUEUE_POLL_INTERVAL=10s
WORKER_MAX_RETRIES=3
WORKER_RETRY_BACKOFF=exponential

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_WINDOW=1m

# ============================================
# PAYMENT (Stripe/Mercado Pago)
# ============================================
STRIPE_SECRET_KEY=sk_test_xxxx
STRIPE_WEBHOOK_SECRET=whsec_test_xxxx
STRIPE_SUCCESS_URL=http://localhost:3000/app/materias
STRIPE_CANCEL_URL=http://localhost:3000/app/planos

MERCADOPAGO_ACCESS_TOKEN=TEST-xxxx
MERCADOPAGO_WEBHOOK_SECRET=xxxx

# ============================================
# MOCK MODE (DESENVOLVIMENTO APENAS)
# ============================================
# Ativa modo mock para simular geração de ideias sem chamar AI real
# O processamento simula um delay de ~30s e retorna ideias fake
MOCK_AI_GENERATION=false

# Ativa bypass da validação de conexão com WordPress
# Útil para testar o fluxo completo sem um WordPress real
MOCK_WORDPRESS=false